var FEGlobal={WebAuth:null,Init:function(){this.Auth0(),this.Auth0Autentication(),this.Login(),this.Logout(),this.BurgerNav(),this.FormValidation(),this.FormFileUpload(),this.SelectionSharer(),this.ResponsiveVideos(),this.CheckSetCookie(),$(".js-loader").addClass("is-hidden"),$("body").addClass("is-loaded")},Auth0:function(){var a=location.href;FEGlobal.WebAuth=new auth0.WebAuth({domain:"adamwright.eu.auth0.com",clientID:"kL38GDrxTgsrZ75lrURjD4SN6z6BH454",redirectUri:a,audience:"https://adamwright.eu.auth0.com/userinfo",responseType:"token id_token",scope:"openid profile read:user_idp_tokens",leeway:60})},Auth0Autentication:function(){FEGlobal.WebAuth.parseHash(function(a,b){b&&b.accessToken&&b.idToken?(window.location.hash="",FEGlobal.Auth0Session(b),console.log("logged in"),$("li.js-profile").removeClass("is-hidden")):a&&(console.log(a),alert("Error: "+a.error+". Check the console for further details.")),FEGlobal.Auth0HideShowButtons()})},Auth0IsAutenticated:function(){var a=JSON.parse(localStorage.getItem("expires_at"));return(new Date).getTime()<a},Auth0HideShowButtons:function(){FEGlobal.Auth0IsAutenticated()?(console.log("signed in"),$("li.js-logout").removeClass("is-hidden"),$("li.js-profile").removeClass("is-hidden"),$("li.js-login").addClass("is-hidden")):(console.log("signed out"),$("li.js-logout").addClass("is-hidden"),$("li.js-profile").addClass("is-hidden"),$("li.js-login").removeClass("is-hidden"))},Auth0Session:function(a){var b=JSON.stringify(1e3*a.expiresIn+(new Date).getTime());localStorage.setItem("access_token",a.accessToken),localStorage.setItem("id_token",a.idToken),localStorage.setItem("expires_at",b)},Login:function(){$("li.js-login a").on("click",function(a){a.preventDefault(),FEGlobal.WebAuth.authorize()})},Logout:function(){$("li.js-logout a").on("click",function(a){a.preventDefault(),localStorage.removeItem("access_token"),localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),document.location.href=document.location.href})},BurgerNav:function(){$("#js-navbar-menu-toggle").on("click",function(a){a.preventDefault();var b=$(this),c=$("#js-navbar-links");c.hasClass("is-active")?(b.removeClass("is-active"),c.removeClass("is-active")):(b.addClass("is-active"),c.addClass("is-active"))})},FormValidation:function(){$("form").validateWebForm({errorPlacement:function(a,b){}})},FormFileUpload:function(){$("input:file").on("change",function(){var a=$(this),b=a.prev(".js-file-upload"),c=a.val().replace(/\\/g,"/").replace(/.*\//,"");c.length>0?b.text(c):b.text(b.data("default"))})},SelectionSharer:function(){$("article").selectionSharer()},ResponsiveVideos:function(){$(".cms-content iframe[src*='youtube'], .cms-content iframe[src*='vimeo']").parent().fitVids()},CheckSetCookie:function(){if(document.cookie.indexOf("BoilerplateCookiePolicy")<0){var a=new Date;a.setFullYear(a.getFullYear()+1),document.cookie="BoilerplateCookiePolicy=true; expires="+a.toGMTString(),this.CookieShowHide()}},CookieShowHide:function(){var a=$("#js-cookiebar");setTimeout(function(){a.mouseenter(function(){clearTimeout(a.data("timeoutId"))}).mouseleave(function(){FEGlobal.CookieTimeOut()}),a.removeClass("c-cookiebar--hidden"),FEGlobal.CookieTimeOut()},2e3)},CookieTimeOut:function(){var a=$("#js-cookiebar");FEGlobal.timeOutId=setTimeout(function(){a.addClass("c-cookiebar--hidden")},5e3),a.data("timeoutId",FEGlobal.timeOutId)}},BEGlobal={Init:function(){}};
//# sourceMappingURL=global.min.js.map